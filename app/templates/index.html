<!-- app/templates/index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>âš¡ FDR GenAI Assistant</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="container">

    <h1>âš¡ FDR GenAI Assistant</h1>
    <p class="subtitle">Financial Dispute Resolution â€¢ AI-Powered Case Support</p>

    <!-- Unified Input -->
    <div class="input-panel">
        <h2>ğŸ“„ Upload PDF or Paste Complaint Text</h2>

        <input type="file" id="pdf-file" accept="application/pdf">
        <p>â€” or â€”</p>
        <textarea id="manual-text" placeholder="Paste complaint text here"></textarea>

        <button class="btn-primary" onclick="processInput()">Process Document</button>
        <p id="ingest-status"></p>
    </div>

    <!-- Document Preview -->
    <div class="viewer-panel neon-card">
        <h2>ğŸ“‘ Extracted Document Text</h2>
        <div id="pdf-viewer" class="scroll-panel"></div>
    </div>

    <!-- Ask Panel -->
    <div class="ask-panel neon-card">
        <h2>ğŸ’¬ Ask a Question</h2>

        <input
            type="text"
            id="question-box"
            placeholder="What is the dispute about?"
            class="question-input"
        >

        <button
            id="ask-btn"
            class="btn-primary"
            onclick="askStream()"
        >
            Ask
        </button>

        <div id="answer-box" class="answer-stream">
            <span id="typing-indicator" class="hidden">
                Thinking<span class="cursor">â–</span>
            </span>
        </div>
    </div>

    <!-- Classification -->
    <div class="classify-panel neon-card">
        <h2>ğŸ· Classification & Severity</h2>
        <p><b>LLM Classification:</b> <span id="llm-class"></span></p>
        <p><b>ML Classification:</b> <span id="ml-class"></span></p>
        <p><b>Confidence:</b> <span id="ml-confidence"></span></p>
        <p><b>Severity:</b> <span id="severity"></span></p>
    </div>

    <!-- Evidence -->
    <div class="evidence-panel neon-card">
        <h2>ğŸ” Evidence Used</h2>
        <div id="evidence-box" class="scroll-panel"></div>
    </div>

    <!-- Recommendations -->
    <div class="steps-panel neon-card">
        <h2>ğŸ“Œ Recommended Steps</h2>
        <div id="steps-box"></div>
    </div>

</div>

<script src="/static/script.js"></script>
</body>
</html>
